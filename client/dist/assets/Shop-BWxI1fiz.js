import{r as a,P as g,d as b,i as C,b as y,j as s,L as n,_ as k,H as i,h as P,E as A,a3 as D}from"./index-CoPL2P1k.js";const $=({product:t})=>{a.useContext(g);const{addToCart:l,cart:m}=a.useContext(b),{handleCheckout:c}=C(),{handleCalculateDates:o,borrowDate:d,returnDate:e,isExpired:x}=y();a.useState(null);const{id:r,className:f,mainProduct:v,mainProduct2:w,productName:h,outdatedPrice:j,price:p}=t,S=()=>{o();let N=[];N.push({itemId:t.id,productName:t.productName,borrowDate:d,returnDate:e}),l(t,r,p),c(N),(async()=>{try{"Notification"in window?await Notification.requestPermission()==="granted"&&new window.Notification("Automated notification",{body:"Raquebookshelf",data:"Borrowed an item from the library",tag:"borrow indicator"}):console.log("Browser doesn't support notification")}catch(u){console.error("Error requesting notification permission:",u)}})()};return s.jsx("div",{className:"col-lg-4 col-md-6 col-sm-6",children:s.jsxs("div",{className:"single-product-box mb-30",children:[s.jsxs("div",{className:"product-image",children:[s.jsxs(n,{to:`/product/${r}`,children:[s.jsx("img",{src:v,alt:"product image",className:"img-fluid"}),s.jsx("img",{src:w,alt:"product image",className:"img-fluid"})]}),s.jsxs(n,{to:`/reading/${r}`,className:"add-to-cart-btn d-flex flex-nowrap align-items-center gap-2 text-capitalize",onClick:S,children:["Borrow ",s.jsx(k,{})]}),h==="Book Chicks"&&s.jsx("div",{className:"sale-btn",children:"Sale!"})]}),s.jsxs("div",{className:"product-content",children:[s.jsx("h3",{children:s.jsx(n,{to:`/product/${r}`,children:h})}),s.jsxs("div",{className:`${f} d-flex flex-nowrap gap-2 justify-content-center align-items-center`,children:[j&&s.jsxs("span",{className:"old",children:["$",j]}),s.jsxs("span",{className:"new",children:["$",p]})]}),s.jsxs("div",{className:"rating",children:[s.jsx(i,{className:"star-icon"}),s.jsx(i,{className:"star-icon"}),s.jsx(i,{className:"star-icon"}),s.jsx(i,{className:"star-icon"}),s.jsx(i,{className:"star-icon"})]})]})]})},r)},B=()=>s.jsx("div",{className:"container",children:s.jsx("div",{className:"d-table",children:s.jsx("div",{className:"d-table-cell",children:s.jsxs("div",{className:"title-content",children:[s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx(n,{to:"/",className:"text-decoration-none text-dark",children:"Home"})}),s.jsx("li",{children:s.jsxs("span",{children:[" ",s.jsx(P,{})," "]})}),s.jsx("li",{children:s.jsx("span",{className:"page-name",children:"Shop"})})]}),s.jsx("h2",{className:"page-name",children:"Shop"})]})})})}),F=()=>{const{products:t}=a.useContext(g);a.useContext(b);const[l,m]=a.useState("Sort by Popularity"),[c,o]=a.useState(!1),d=["Sort by Popularity","Sort by latest","Default sorting","Sort by rating","Sort by new"];return s.jsxs(s.Fragment,{children:[s.jsx("section",{className:"shop page-title-area",children:s.jsx(B,{})}),s.jsx("section",{className:"shop-products pb-100 pt-5 pt-lg-0",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"woocommerce-topbar",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsx("div",{className:"col-lg-4 col-md-4 col-sm-4",children:s.jsx("div",{className:"topbar-result-count",children:s.jsx("p",{className:"mb-0",children:"Showing 1 â€“ 6 of 6"})})}),s.jsx("div",{className:"col-lg-8 col-md-8",children:s.jsx("div",{className:"topbar-ordering-and-search",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsx("div",{className:"col-lg-6 col-md-6 col-sm-6",children:s.jsxs("div",{className:"topbar-ordering",children:[s.jsxs("div",{className:"sort-options-box d-flex flex-nowrap align-items-center gap-3",onClick:()=>o(!c),children:[l,s.jsx(A,{className:c?"rotate180":"rotate360",style:{transition:"0.5s ease"}})]}),c&&s.jsx("div",{className:"sort-dropdown d-flex flex-column gap-3 text-start",children:d.map((e,x)=>s.jsxs("div",{className:"sort-item",onClick:()=>m(e),children:["Sort by ",e]},x))})]})}),s.jsx("div",{className:"col-lg-6 col-md-6 col-sm-6",children:s.jsx("div",{className:"topbar-search",children:s.jsxs("form",{children:[s.jsx("label",{children:s.jsx(D,{className:"pt-0"})}),s.jsx("input",{type:"text",className:"input-search",placeholder:"Search here..."})]})})})]})})})]})}),s.jsxs("div",{className:"row",children:[t.map(e=>s.jsx($,{product:e},e.id)),s.jsx("div",{className:"col-lg-12 col-md-12 col-sm-12",children:s.jsxs("div",{className:"pagination-area text-center",children:[s.jsx("span",{className:"page-numbers current","aria-current":"page",children:"1"}),s.jsx("a",{href:"",className:"page-numbers",children:"2"}),s.jsx("a",{href:"",className:"page-numbers",children:"3"}),s.jsx("a",{href:"",className:"page-numbers",children:"4"}),s.jsx("a",{href:"",className:"page-numbers",children:"5"}),s.jsx("a",{href:"",className:"next page-numbers",children:s.jsx("i",{className:"bx bx-chevron-right"})})]})})]})]})})]})};export{F as default};
