import{u as P,r as a,c as E,j as e,L as x,T as O,a as A,b as B}from"./index-iwJBcb3x.js";const R=()=>{const{handleCheckout:u,isLoggedIn:z}=P(),[j,p]=a.useState(""),[N,g]=a.useState(""),[v,b]=a.useState(""),[f,C]=a.useState(""),[r,n]=a.useState(""),[y,S]=a.useState(""),[D,F]=a.useState(""),[o,H]=a.useState(new Date),[w,k]=a.useState(""),[q,T]=a.useState(""),{cartSubTotalPrice:J,networkFee:i}=a.useContext(E),[l,d]=a.useState([]);a.useEffect(()=>{let s=localStorage.getItem("cartItems"),t=JSON.parse(s);d(t)},[d]),a.useEffect(()=>{(()=>{const h=new Date(o),c=new Date(o.getTime()+864e5);k(h.toLocaleDateString()),T(c.toLocaleDateString())})()},[]);let m=[];l.map(s=>{m.push({itemId:s.id,productName:s.productName,borrowDate:w,returnDate:q})});const I=s=>{s.preventDefault(),u([m])};return e.jsx("form",{onSubmit:I,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 col-md-12",children:e.jsxs("div",{className:"billing-details",children:[e.jsx("h3",{className:"title",children:"Billing Details"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"country",children:["Country ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("div",{className:"select-box",children:e.jsxs("select",{className:"wide",id:"country",name:"country",children:[e.jsx("option",{value:"india",children:"India"}),e.jsx("option",{value:"italy",children:"Italy"}),e.jsx("option",{value:"spain",children:"Spain"}),e.jsx("option",{value:"france",children:"France"}),e.jsx("option",{value:"brazil",children:"Brazil"})]})})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"firstname",children:["First Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",value:j,onChange:s=>p(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"lastname",children:["Last Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",value:N,onChange:s=>g(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"address",children:["Address ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"address",id:"address",className:"form-control",value:r,onChange:s=>n(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"town",children:["Town / City ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"town",id:"town",className:"form-control",value:y,onChange:s=>S(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"state",children:["State / County ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"state",id:"state",className:"form-control",value:D,onChange:s=>F(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"postcode",children:["Postcode / Zip ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",name:"postcode",id:"postcode",className:"form-control",value:r,onChange:s=>n(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"email",name:"email",id:"email",className:"form-control",value:v,onChange:s=>b(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-6 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"tel",children:["Phone ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"tel",name:"tel",id:"tel",className:"form-control",value:f,onChange:s=>C(s.target.value),autoComplete:"on"})]})}),e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"create-an-account"}),e.jsx("label",{className:"form-check-label",htmlFor:"create-an-account",children:"Create an account?"})]})}),e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"ship-different-address"}),e.jsx("label",{className:"form-check-label",htmlFor:"ship-different-address",children:"Mail to a different address?"})]})}),e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"form-group",children:e.jsx("textarea",{name:"notes",id:"notes",cols:"30",rows:"5",placeholder:"Order Notes",className:"form-control"})})})]})]})}),e.jsx("div",{className:"col-lg-6 col-md-12",children:e.jsxs("div",{className:"order-details",children:[e.jsx("h3",{className:"title",children:"Your Order"}),e.jsx("div",{className:"order-table table-responsive",children:e.jsxs("table",{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Product Name"}),e.jsx("th",{scope:"col",children:"Total"})]})}),e.jsxs("tbody",{children:[l.map(s=>{const{id:t,mainProduct:h,productName:c,price:L,quantity:M}=s;return e.jsxs("tr",{children:[e.jsx("td",{className:"product-name",children:e.jsx(x,{to:"",children:c})}),e.jsx("td",{className:"product-total",children:e.jsx("span",{className:"subtotal-amount",children:L})})]},t)}).sort(),e.jsxs("tr",{children:[e.jsx("td",{className:"order-subtotal",children:e.jsx("span",{children:"Cart Subtotal"})}),e.jsx("td",{className:"order-subtotal-price",children:e.jsx("span",{className:"order-subtotal-amount",children:l.length})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"order-shipping",children:e.jsx("span",{children:"Network Fee"})}),e.jsx("td",{className:"shipping-price",children:e.jsxs("span",{children:["₦",parseFloat(i*l.length).toFixed(2)]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"total-price",children:e.jsx("span",{children:"Order Total"})}),e.jsx("td",{className:"product-subtotal",children:e.jsxs("span",{className:"subtotal-amount",children:["₦",parseFloat(i*l.length).toFixed(2)]})})]})]})]})}),e.jsxs("div",{className:"payment-box",children:[e.jsx("div",{className:"payment-method"}),e.jsxs("button",{type:"submit",className:"btn-altlemon default-btn d-lg-inline-block ",children:[e.jsx(O,{className:"start-icon"}),e.jsx("span",{className:"label",children:"Place order"}),e.jsx(A,{className:"end-icon"})]})]})]})})]})})},Z=()=>e.jsx("section",{className:"checkout-area",children:e.jsxs("div",{className:"container p-lg-0",children:[e.jsxs("div",{className:"user-actions d-flex align-items-center flex-nowrap gap-2",children:[e.jsx(B,{className:"icon fs-4 text-altlemon"}),e.jsxs("span",{children:["Returning customer?  ",e.jsx(x,{to:"/login",children:"Click here to login"})]})]}),e.jsx("section",{className:"checkout-form-section",children:e.jsx(R,{})})]})});export{Z as default};
