import{u as m,Z as O,r as t,j as e,_ as f,$ as w,m as E,L as k,k as L,a0 as z,a1 as M,D as R,E as _,a2 as B,a3 as U,a4 as q,a5 as H,a6 as T,a7 as Z}from"./index-iwJBcb3x.js";import{a as y}from"./index-wfe35j1k.js";import{B as $}from"./BioForm-ww--pZD0.js";const G="/assets/userImg-DRSv7z-e.png",J=()=>{const{email:s,name:r,password:l,handleUpdate:c,errParagraph:a,successPara:i,successMsg:j,activateErrMsg:d,loading:C}=m(),{showNotification:o}=O(),[u,F]=t.useState(r),[N,P]=t.useState(s),[p,S]=t.useState(""),[b,I]=t.useState(""),[x,v]=t.useState(!1),[h,g]=t.useState(!1),D=async n=>{n.preventDefault();try{return await c({userEmail:N,currentPassword:p,newPassword:b,fullName:u}),o(d?a:j?i:a)}catch(A){console.error("Error occurred during update:",A),o("An error occurred while updating. Please try again later.")}};return e.jsx(e.Fragment,{children:e.jsx("form",{className:"edit-account",onSubmit:D,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",children:["Full name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",className:"form-control text-capitalize",value:u,autoComplete:"on",onChange:n=>F(n.target.value)})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:["Email address ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",value:N,autoComplete:"on",onChange:n=>P(n.target.value)})]})}),e.jsx("div",{className:"col-12",children:e.jsx("legend",{children:"Password Change"})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Current password (leave blank to leave unchanged)"}),e.jsxs("div",{className:"password",children:[e.jsx("input",{type:x?"text":"password",id:"password",className:"form-control",value:p,autoComplete:"on",onChange:n=>S(n.target.value)}),x?e.jsx(f,{onClick:()=>v(!x)}):e.jsx(w,{onClick:()=>v(!x)})]}),d&&e.jsx("span",{className:"text-altlemon",children:a})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"New password (leave blank to leave unchanged)"}),e.jsxs("div",{className:"password",children:[e.jsx("input",{type:h?"text":"password",id:"newPassword",name:"newPassword",className:"form-control",value:b,autoComplete:"on",onChange:n=>I(n.target.value)}),h?e.jsx(f,{onClick:()=>g(!h)}):e.jsx(w,{onClick:()=>g(!h)})]}),d&&e.jsx("span",{className:"text-altlemon",children:a})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("button",{type:"submit",className:"default-btn",children:[e.jsx(y,{className:"start-icon"}),e.jsx("span",{className:"label",children:C?e.jsx(E,{}):"Save Changes"}),e.jsx(y,{className:"end-icon"})]})})]})})})},K=()=>{const{orders:s}=m();return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"table border text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order"}),e.jsx("th",{children:"Borrow Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Return Date"})]})}),e.jsx("tbody",{children:s&&s.length>0?s.map((r,l)=>{const{itemId:c,borrowDate:a,returnDate:i}=r;return e.jsxs("tr",{children:[e.jsx("td",{children:c}),e.jsx("td",{children:a}),e.jsx("td",{children:"Completed"}),e.jsx("td",{children:i})]},l)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No orders found"})})})]})})},Q=()=>{const{recentOrders:s}=m(),[r,l]=t.useState([]);return t.useEffect(()=>{Array.isArray(s)?l(s.slice(0,6)||[]):l([])},[s]),e.jsxs("div",{className:"order-form",children:[e.jsx("h3",{children:"Recent Orders"}),e.jsx("div",{className:"main-table",children:e.jsxs("table",{className:"table border text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order"}),e.jsx("th",{children:"Borrow Date"}),e.jsx("th",{children:"Return Date"})]})}),e.jsx("tbody",{children:r.length>0?r.map((c,a)=>{const{itemId:i,borrowDate:j,returnDate:d}=c;return e.jsxs("tr",{children:[e.jsx("td",{style:{textOverflow:"ellipsis",overflow:"hidden"},children:i}),e.jsx("td",{children:j}),e.jsx("td",{children:d})]},a)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",children:"No orders found"})})})]})})]})},Y=()=>{const{isLoggedIn:s,handleLogout:r,name:l,email:c,phone:a}=m();return e.jsx(e.Fragment,{children:s?e.jsxs("section",{className:"user-account-area pb",children:[e.jsx("div",{className:"page-title-area",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"d-table",children:e.jsx("div",{className:"d-table-cell",children:e.jsxs("div",{className:"title-content",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(k,{to:"/",className:"text-decoration-none text-dark",children:"Home"})}),e.jsx("li",{children:e.jsx("span",{children:e.jsx(L,{})})}),e.jsx("li",{children:e.jsx("span",{children:"My Account"})})]}),e.jsx("h2",{className:"text-capitalize",children:l})]})})})})}),e.jsx("div",{className:"main-userAccount mt-5 mt-lg-0",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"userAccount-profile",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-lg-4 col-md-5",children:e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:G,className:"img-fluid rounded",alt:"image"})})}),e.jsx("div",{className:"col-lg-8 col-md-7",children:e.jsxs("div",{className:"profile-content",children:[e.jsx("h3",{className:"profile-name text-capitalize",children:l}),e.jsx($,{}),e.jsxs("ul",{className:"contact-info",children:[e.jsxs("li",{children:[e.jsx(z,{className:"icon"}),e.jsx("a",{href:"#",children:c})]}),e.jsxs("li",{children:[e.jsx(M,{className:"icon"}),e.jsx("a",{href:"tel:+234 704 459 3001",children:a&&a})]})]}),e.jsxs("ul",{className:"social",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"d-block",target:"_blank",children:e.jsx(R,{className:"bx bxl-facebook"})})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"d-block",target:"_blank",children:e.jsx(_,{className:"bx bxl-twitter"})})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"d-block",target:"_blank",children:e.jsx(B,{className:"bx bxl-instagram"})})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"d-block",target:"_blank",children:e.jsx(U,{className:"bx bxl-linkedin"})})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"d-block",target:"_blank",children:e.jsx(q,{className:"bx bxl-pinterest-alt"})})})]}),e.jsx("button",{type:"button",onClick:r,className:"userAccount-logout",children:"Logout"})]})})]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"nav nav-tabs userAccount-navigation mb-4",children:[e.jsxs("ul",{className:"nav nav-tabs",id:"navId",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"representation",children:e.jsxs("a",{href:"#tab1Id",className:"nav-link active","data-bs-toggle":"tab","aria-current":"page",children:[e.jsx(H,{}),e.jsx("span",{className:"",children:"Dashboard"})]})}),e.jsx("li",{className:"nav-item",role:"representation",children:e.jsxs("a",{href:"#tab2Id",className:"nav-link","data-bs-toggle":"tab",role:"button","aria-haspopup":"true","aria-expanded":"false",children:[e.jsx(T,{}),e.jsx("span",{className:"",children:"Orders"})]})}),e.jsx("li",{className:"nav-item",role:"representation",children:e.jsxs("a",{href:"#tab4Id",className:"nav-link text-capitalize","data-bs-toggle":"tab",children:[e.jsx(Z,{}),e.jsx("span",{children:" Account Details"})]})})]}),e.jsxs("div",{className:"tab-content w-100 py-4",id:"myTabContent",children:[e.jsxs("div",{className:"tab-pane fade show active",id:"tab1Id",role:"tabpanel",children:[e.jsxs("p",{children:["Hello ",e.jsx("b",{className:"text-capitalize",children:l})," (not"," ",e.jsx("b",{className:"text-capitalize",children:l}),"?"," ",e.jsx(k,{to:"/login",onClick:r,className:"text-altlemon",style:{cursor:"pointer"},children:"Logout"})," ",")"]}),e.jsxs("p",{children:["From your account dashboard you can view your"," ",e.jsx("span",{className:"text-altlemon",children:"recent orders"}),", manage your",e.jsx("span",{className:"text-altlemon",children:"shipping and billing addresses"}),", and",e.jsx("span",{className:"text-altlemon",children:"edit your password and account details"}),"."]}),e.jsx(Q,{})]}),e.jsx("div",{className:"tab-pane fade main-orders",id:"tab2Id",role:"tabpanel",children:e.jsx("div",{className:"order-form overflow-auto",children:e.jsx(K,{})})}),e.jsx("div",{className:"tab-pane fade",id:"tab4Id",role:"tabpanel",children:e.jsx("div",{className:"user-details",children:e.jsx("div",{className:"userAccount-content",children:e.jsx(J,{})})})})]})]})})})]})})]}):null})};export{Y as default};
